<html>
  <head>
    <title>OJET v5 Starter Kit</title>
    <link rel="stylesheet" href="../node_modules/@oracle/oraclejet/dist/css/alta/oj-alta.css">

    <script type="text/javascript" src="../node_modules/requirejs/require.js"></script>
    <script type="text/javascript" src="main.js"></script>
  </head>

  <body>
    <oj-table id='table' aria-label='Departments Table'
      data='[[dataprovider]]'
      columns='[{"headerText": "Department Id", 
                 "field": "DepartmentId",
                 "headerClassName": "oj-sm-only-hide",
                 "className": "oj-sm-only-hide",
                 "resizable": "enabled"},
                {"headerText": "Department Name", 
                 "field": "DepartmentName",
                 "resizable": "enabled"},
                {"headerText": "Location Id", 
                 "field": "LocationId",
                 "headerClassName": "oj-sm-only-hide",
                 "className": "oj-sm-only-hide",
                 "resizable": "enabled"},
                {"headerText": "Manager Id", 
                 "field": "ManagerId",
                 "resizable": "enabled"}]'
      style='width: 100%; height: 200px;'>
    </oj-table>
  </body>

  <script>
    require(['ojs/ojcore', 'knockout', 'jquery', 'ojs/ojarraydataprovider', 'ojs/ojknockout', 'ojs/ojtable'], function(oj, ko, $) {
      function ViewModel() {
        var deptArray = [{
          DepartmentId: 3,
          DepartmentName: 'ADFPM 1001 neverending',
          LocationId: 200,
          ManagerId: 300
        }];

        this.dataprovider = new oj.ArrayDataProvider(deptArray, {
          keyAttributes: 'DepartmentId',
          implicitSort: [{attribute: 'DepartmentId', direction: 'ascending'}]
        });
      }

      var vm = new ViewModel();
      ko.applyBindings(vm);
    });
  </script>
</html>

